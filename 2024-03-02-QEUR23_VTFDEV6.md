---
title: QEUR23_VTFDEV6:  閑話休題～ SOARTCロジックを少しだけ変えてみる
date: 2024-03-02
tags: ["QEUシステム", "メトリックス", "Python言語", "Vision Transformer", "LLM", "データセット", "Fine-tuning", "イノベーション"]
excerpt: Vision Transformer(ViT)をやってみる
---

## QEUR23_VTFDEV6:  閑話休題～ SOARTCロジックを少しだけ変えてみる

## ～ やっぱり、良くなった！ ～

## ・・・ FOUNDERは、前回の結果にまだ不満のようです ・・・

QEU:FOUNDER ： “あ～あ・・・、もう我慢できん！ちょっとやり直そう。”

![imageJRL9-7-1](/2024-03-02-QEUR23_VTFDEV6/imageJRL9-7-1.jpg)

D先生 ： “結構良い結果（↑）だったとおもいますが、ダメですか？”

QEU:FOUNDER ： “気にいらないんだよなあ・・・。C部長、来て来て・・・。ちょっと質問なんだけど・・・。”

C部長 ： “はい・・・。何の用ですか？いきなり・・・。”

QEU:FOUNDER ： “**ある箱の中に3個のオレンジがあります。もう一つの箱の中に5個のオレンジがあります。A君とB君に、公平に果物を分配してください。**”

C部長 ： “バカにしているんですか・・・。各4個づつ渡せばいいですよ。”

QEU:FOUNDER ： “じゃあ、もう一つの質問です。ある箱の中に3個のオレンジがあります。もう一つの箱の中に5個のりんごがあります。A君とB君に、**公平に果物を分配してください**。”

C部長 ： “・・・。”

QEU:FOUNDER ： “どうしました？”

D先生 ： “5個のりんごと、3個のオレンジを公平に分配するのは難しいですよ。個数だけを合わせるのであれば、4個づつにすればいいですがね・・・。要するに、FOUNDERが言いたいのは、BEND1がオレンジでBEND2がりんごであるということでしょ？**このように毛色が互いに異なる値を使ってチェビシェフ距離を取っていることが合理的であるかどうか**と・・・。”

![imageJRL9-7-2](/2024-03-02-QEUR23_VTFDEV6/imageJRL9-7-2.jpg)

QEU:FOUNDER ： “やっぱり、ミンコフスキー距離にしたい・・・。”

![imageJRL9-7-3](/2024-03-02-QEUR23_VTFDEV6/imageJRL9-7-3.jpg)

QEU:FOUNDER ： “あと、もうひとつ変更したい点は、畳み込み部品の設計です。ＢＥＮＤ群は周囲の値を1にしています。一方、ＬＩＮＥ群は対角への配置になっているが、もうちょっと**中央部に「重み」を付けてもいい**のではないかとおもうんです。”

D先生 ： “まあ、FOUNDERの思いは、わからないことはないです。やってみて、比較すれば・・・。”

QEU:FOUNDER ： “じゃあ、プログラムをドン！！・・・は、なしです。チェビシェフ距離の部分のみが変わったかな。”

```python
# ----------------
# soaRTCメトリックス(no2)を計算する
def calc_soaRTC_no2(tsr_sig_array, tsr_tani_array): 

    # データの抽出
    y = tsr_sig_array.flatten()
    x = tsr_tani_array.flatten()
    #print(y)
    #print(x)

    # dot回転を計測
    #xx = np.dot(x,x) + 0.0001
    #xy = np.dot(x,y) + 0.0001
    #beta = xy/xx

    # チェビシェフ距離を計測
    #vDistance = chebyshev(y,beta*x)
    #vDistance = chebyshev(y,x)
 
    # ミンコフスキー距離を計測
    vDistance = minkowski(y, x, 4) #p=4 
 
    return vDistance

```

QEU:FOUNDER ： “ミンコフスキー距離のパラメタpはいろいろ変えてみてもいいと思います。結果を少しみてみましょう。”

![imageJRL9-7-4](/2024-03-02-QEUR23_VTFDEV6/imageJRL9-7-4.jpg)

D先生 ： “今回の結果は、前回の値のほぼ倍になっています。異常検出の感度が高くなったという意味では、よくなったのではないでしょうか。あと、下にある散布図は新旧の比較ですか？”

QEU:FOUNDER ： “赤枠は前回の結果であり、青枠の散布図は今回の結果です。”

D先生 ： “バラツキの具合が大きく変わりましたね。他の事例も見せてもらえませんか？”

![imageJRL9-7-5](/2024-03-02-QEUR23_VTFDEV6/imageJRL9-7-5.jpg)

D先生 ： “これらは、図形が移動・回転していない事例ですね。当たり前ながら、前回と今回の分布の傾向はほぼおなじですね。今回の方が分布が広がっているだけで・・・。図形が回転している事例はないですか？”

QEU:FOUNDER ： “これ（↓）なんかどうですか？”

![imageJRL9-7-6](/2024-03-02-QEUR23_VTFDEV6/imageJRL9-7-6.jpg)

D先生 ： “やはり、メトリックスの分布が大きく変わっています。この原因はやはり・・・。”

QEU:FOUNDER ： “この原因は畳み込み部品の変更でしょう。β=1の0点1次式から離れるということは、検出感度が上がった証拠です。”

![imageJRL9-7-7](/2024-03-02-QEUR23_VTFDEV6/imageJRL9-7-7.jpg)

D先生 ： “補正値で全体的に比較してみても、前回の結果と大きな変化はありません。さらに穏やかなばらつきになりました。この新しい方法を使っても、いいのではないでしょうか。”



## ～ まとめ ～

QEU:FOUNDER ： “週末もやるんだ。すごいな・・・。”

[![MOVIE1](http://img.youtube.com/vi/wPnSypt19gA/0.jpg)](http://www.youtube.com/watch?v=wPnSypt19gA "2024年3月2日【中継】衆院における予算通過をめぐる与野党攻防")

C部長 : “今回は勉強になりました。実は、ぼく・・・。初めて国会中継を見たんです。”

QEU:FOUNDER ： “なに！初めてとな！？それはけしからんな・・・。でも、テレビでは平日昼の中継になるから、C部長が見る機会は少ないか・・・。”

C部長 : “意外と面白かった・・・（笑）。”

QEU:FOUNDER ： “本当！！明日は太陽が西から昇りそうだ・・・。”

movie2
[![MOVIE1](http://img.youtube.com/vi/KN8VPtwOTRM/0.jpg)](http://www.youtube.com/watch?v=KN8VPtwOTRM "旧N国党が破綻した ちだいさん、横川圭希さんコラボ#01【菅野完氏 政治解説切り抜き】")

C部長 : “やっぱり、動画などから、いろいろな予備知識を得ていたことが良かったようです。”

QEU:FOUNDER ： “今日は、赤飯を炊かんといかんな・・・。”

